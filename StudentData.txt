using System;
using System.IO;
using System.Collections.Generic;

class Program
{
    static void Main()
    {
        string filePath = "student_data.txt";

        // Sample data for demonstration
        List<Student> students = new List<Student>
        {
            new Student("John Doe", 25, "Computer Science"),
            new Student("Jane Smith", 22, "Physics"),
            // Add more students as needed
        };

        // Write data to the file
        WriteToFile(filePath, students);

        // Read data from the file
        List<Student> readStudents = ReadFromFile(filePath);

        // Display the read data
        foreach (var student in readStudents)
        {
            Console.WriteLine($"Name: {student.Name}, Age: {student.Age}, Major: {student.Major}");
        }
    }

    static void WriteToFile(string filePath, List<Student> students)
    {
        using (StreamWriter writer = new StreamWriter(filePath))
        {
            foreach (var student in students)
            {
                writer.WriteLine($"{student.Name},{student.Age},{student.Major}");
            }
        }
    }

    static List<Student> ReadFromFile(string filePath)
    {
        List<Student> students = new List<Student>();
        try
        {
            using (StreamReader reader = new StreamReader(filePath))
            {
                string line;
                while ((line = reader.ReadLine()) != null)
                {
                    string[] data = line.Split(',');
                    string name = data[0];
                    int age = int.Parse(data[1]);
                    string major = data[2];

                    students.Add(new Student(name, age, major));
                }
            }
        }
        catch (FileNotFoundException)
        {
            Console.WriteLine("File not found. Make sure to write data before attempting to read.");
        }

        return students;
    }
}

class Student
{
    public string Name { get; set; }
    public int Age { get; set; }
    public string Major { get; set; }

    public Student(string name, int age, string major)
    {
        Name = name;
        Age = age;
        Major = major;
    }
}